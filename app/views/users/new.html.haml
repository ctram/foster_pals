
-# TODO: add validation errors for new user page

.static-page-content.page-register
  %h1.text-center
    Register

  .row.justify-content-center
    .col-xl-6
      %form.p-5{action: "#{users_url}", method: 'POST' }
        %input{type:'hidden', name:'authenticity_token', value:' form_authenticity_token'}
        
        .fosterer-or-organization.mb-1
          %div.form-check
            %input.form-check-input{ type: "radio", name: "user[role]", id: "org-radio-btn", value: "org", checked: true }
            %label.form-check-label{ for: "org-radio-btn" }
              Rescue Organization

          %div.form-check
            %input.form-check-input{ type: "radio", name: "user[role]", id: "fosterer-radio-btn", value: "fosterer" }
            %label.form-check-label{ for: "fosterer-radio-btn"}
              Fosterer

        %fieldset.org-name
          .form-group
            %input{type:"text", class:"form-control", placeholder:"Organization Name", name: "user[org_name]", id:'org-name-input'}

        .form-group
          %input{type:"email", class:"form-control", placeholder:"Email", name: "user[email]", id:'email-input', required: true}

        .form-group
          %input{type:"password", class:"form-control", placeholder:"Password", name: "user[password]", id: 'password-input', required: true}

        .form-group
          %input{type:"text", class:"form-control", placeholder:"First Name", name: "user[first_name]", id: 'first-name-input', required: true}

        .form-group
          %input{type:"text", class:"form-control", placeholder:"Last Name", name: "user[last_name]", id: 'last-name-input', required: true}

        .form-group
          %input{type:"text", class:"form-control", placeholder:"Street Address", name: "user[street_address]", id: 'street-address-input', required: true}

        .form-group
          %input{type:"text", class:"form-control", placeholder:"City", name: "user[city]", id: 'city-input', required: true}
          
        .form-group
          %select{class:'form-control new-user', name:"user[state]", required: true}
            %option{ value:"AL", checked: true}
              Alabama
            %option{ value:"AK"}
              Alaska
            %option{ value:"AZ"}
              Arizona
            %option{ value:"AR"}
              Arkansas
            %option{ value:"CA"}
              California
            %option{ value:"CO"}
              Colorado
            %option{ value:"CT"}
              Connecticut
            %option{ value:"DE"}
              Delaware
            %option{ value:"DC"}
              District Of Columbia
            %option{ value:"FL"}
              Florida
            %option{ value:"GA"}
              Georgia
            %option{ value:"HI"}
              Hawaii
            %option{ value:"ID"}
              Idaho
            %option{ value:"IL"}
              Illinois
            %option{ value:"IN"}
              Indiana
            %option{ value:"IA"}
              Iowa
            %option{ value:"KS"}
              Kansas
            %option{ value:"KY"}
              Kentucky
            %option{ value:"LA"}
              Louisiana
            %option{ value:"ME"}
              Maine
            %option{ value:"MD"}
              Maryland
            %option{ value:"MA"}
              Massachusetts
            %option{ value:"MI"}
              Michigan
            %option{ value:"MN"}
              Minnesota
            %option{ value:"MS"}
              Mississippi
            %option{ value:"MO"}
              Missouri
            %option{ value:"MT"}
              Montana
            %option{ value:"NE"}
              Nebraska
            %option{ value:"NV"}
              Nevada
            %option{ value:"NH"}
              New Hampshire
            %option{ value:"NJ"}
              New Jersey
            %option{ value:"NM"}
              New Mexico
            %option{ value:"NY"}
              New York
            %option{ value:"NC"}
              North Carolina
            %option{ value:"ND"}
              North Dakota
            %option{ value:"OH"}
              Ohio
            %option{ value:"OK"}
              Oklahoma
            %option{ value:"OR"}
              Oregon
            %option{ value:"PA"}
              Pennsylvania
            %option{ value:"RI"}
              Rhode Island
            %option{ value:"SC"}
              South Carolina
            %option{ value:"SD"}
              South Dakota
            %option{ value:"TN"}
              Tennessee
            %option{ value:"TX"}
              Texas
            %option{ value:"UT"}
              Utah
            %option{ value:"VT"}
              Vermont
            %option{ value:"VA"}
              Virginia
            %option{ value:"WA"}
              Washington
            %option{ value:"WV"}
              West Virginia
            %option{ value:"WI"}
              Wisconsin
            %option{ value:"WY"}
              Wyoming

        .form-group
          %input{type:"text", class:"form-control", placeholder:"Zipcode",name: "user[zip_code]", id: 'zip-code-input', required: true}

        %button{type: 'submit', class:'btn btn-primary'}
          Register!

  :javascript
    var $ = jQuery;
    var $fostererRadioBtn = $('#fosterer-radio-btn');
    var $orgRadioBtn = $('#org-radio-btn');
    var $fieldsetOrgName = $($('fieldset.org-name')[0]);

    $fostererRadioBtn.on('click', function () {
      $fostererRadioBtn.prop('checked', true);
      $fieldsetOrgName.prop('disabled', true);
    });

    $orgRadioBtn.on('click', function () {
      $orgRadioBtn.prop('checked', true);
      $fieldsetOrgName.prop('disabled', false);
    });
